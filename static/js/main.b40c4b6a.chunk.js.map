{"version":3,"sources":["components/Chat.module.css","components/UserList.module.css","components/UserList.jsx","api/api.js","redux/usersReducer.js","components/Input.jsx","components/Chat.jsx","redux/chatReducer.js","components/Auth.jsx","redux/authReducer.js","App.jsx","redux/store.js","index.js","components/Auth.module.css"],"names":["module","exports","UserList","users","setTarget","userList","map","i","indx","onClick","login","username","key","className","Style","user","src","picture","thumbnail","alt","list","online","usersAPI","fetch","then","res","json","authAPI","authorization","data","a","localStorage","setItem","JSON","stringify","getAuthorization","getItem","auth","SET_USERS","initialState","userReducer","state","action","type","Input","sendWorkMessage","sendFloodMessage","target","useState","text","setText","useEffect","sendMessage","msg","myNick","myColor","inputForm","value","onChange","e","char","onKeyPress","shiftKey","preventDefault","submitOnEnter","submit","Chat","props","greetings","setGreetings","chat","setTimeout","workChatLog","workChat","messageWrapper","style","color","messageNickname","nickname","message","floodChatLog","floodChat","chatWrapper","chatLogWrapper","chatLog","formWrapper","SEND_WORK","SEND_FLOOD","TARGET","chatReducer","newMessage","Auth","setNickname","setColor","setAuthorization","clrbox","colors","backgroundColor","width","height","box","authWrapper","nicknameAuth","colorsetter","colorbox","name","clr","btn","AUTH","GET_AUTH","isAuth","setAuth","authReducer","boolean","connect","usersReducer","getUsersThunk","dispatch","results","console","log","parse","chatType","setchatType","active","undefined","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b40c4b6a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWrapper\":\"Chat_chatWrapper__2l3OG\",\"chatLogWrapper\":\"Chat_chatLogWrapper__1F6pp\",\"chatLog\":\"Chat_chatLog__aoI48\",\"greetings\":\"Chat_greetings__zZ3m4\",\"messageWrapper\":\"Chat_messageWrapper__3GqJj\",\"message\":\"Chat_message__3s4-l\",\"messageNickname\":\"Chat_messageNickname__3qpAM\",\"formWrapper\":\"Chat_formWrapper__19_qo\",\"inputForm\":\"Chat_inputForm__9pctt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"UserList_list__2cFfZ\",\"online\":\"UserList_online__c3tSj\",\"user\":\"UserList_user__3pZ39\"};","import React from 'react';\nimport Style from './UserList.module.css'\n\nconst UserList = ({ users, setTarget }) => {\n  const userList = users.map((i, indx) => {\n    return <div\n      onClick={() => setTarget(i.login.username)}\n      key={indx}\n      className={Style.user}\n    >\n      <img src={i.picture.thumbnail} alt=\"#\" />\n      {i.login.username}\n    </div>\n  })\n\n  return (\n    <div className={Style.list}>\n      <div className={Style.online}>Online: </div>\n      {userList}\n    </div>\n  );\n}\n\nexport default UserList;\n","export const usersAPI = {\r\n    getUsers: () => {\r\n        return fetch('https://randomuser.me/api/?results=10')\r\n            .then(res => {\r\n                return res.json()\r\n            })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n\r\n    authorization: async (data) => {\r\n        localStorage.setItem('TOT-chat-auth', JSON.stringify(data));\r\n        return data;\r\n    },\r\n\r\n    getAuthorization: async () => {\r\n        const res = await localStorage.getItem('TOT-chat-auth');\r\n        if (res === null) {\r\n            return false\r\n        }\r\n        return { res, auth: true };\r\n    }\r\n\r\n}\r\n","import { usersAPI } from \"../api/api\";\r\n\r\nconst SET_USERS = \"usersReducer/SET_USERS\";\r\n\r\nconst initialState = {\r\n    users: []\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS:\r\n\r\n            return {\r\n                ...state, users: [...action.users]\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setUsers = users => {\r\n    return { type: SET_USERS, users };\r\n}\r\n\r\n//thunk\r\nexport const getUsersThunk = () => {\r\n    return async dispatch => {\r\n        let data = await usersAPI.getUsers();\r\n        dispatch(setUsers(data.results));\r\n    }\r\n}\r\nexport default userReducer;","import React, { useState, useEffect } from 'react';\nimport Style from './Chat.module.css';\n\nconst Input = ({ type, sendWorkMessage, sendFloodMessage, auth, target }) => {\n\n  const [text, setText] = useState('');\n\n  useEffect(() => {\n    target && setText(target)\n  }, [target])\n\n  const changeText = char => setText(char);\n\n  const sendMessage = msg => {\n    if (type === 'work') {\n      sendWorkMessage(msg, auth.myNick, auth.myColor);\n      setText('')\n    } else if (type === 'flood') {\n      sendFloodMessage(msg, auth.myNick, auth.myColor);\n      setText('');\n    }\n  }\n  const submitOnEnter = (e, msg) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage(msg);\n      setText('');\n    }\n  }\n  return (\n    <form className={Style.inputForm}>\n      <input\n        type=\"text\"\n        value={text}\n        onChange={e => changeText(e.target.value)}\n        onKeyPress={e => submitOnEnter(e, text)}\n      />\n      <button\n        type='button'\n        className={Style.submit}\n        onClick={(e) => {\n          sendMessage(text);\n        }}\n      >submit</button>\n    </form>\n  );\n}\n\nexport default Input;\n","import React, { useEffect, useState } from 'react';\nimport Style from './Chat.module.css'\nimport Input from './Input';\n\nconst Chat = props => {\n\n  const [greetings, setGreetings] = useState(true);\n\n  const { chat, type, auth } = props;\n\n  useEffect(() => {\n    setTimeout(() => setGreetings(false), 6000);\n  }, [])\n\n  const workChatLog = chat.workChat.map((i, indx) => {\n    return <div\n      className={Style.messageWrapper}\n      key={indx}\n    >\n      <div\n        style={{ color: i.color }}\n        className={Style.messageNickname}\n      >\n        {i.nickname}:\n      </div>\n      <div className={Style.message}>\n        {i.message}\n      </div>\n\n    </div>\n  })\n\n  const floodChatLog = chat.floodChat.map((i, indx) => {\n    return <div className={Style.messageWrapper} key={indx}>\n      <div\n        style={{ color: i.color }}\n        className={Style.messageNickname}\n      >\n        {i.nickname}:\n    </div>\n      <div className={Style.message}>\n        {i.message}\n      </div>\n\n    </div>\n  })\n\n  return (\n    <div className={Style.chatWrapper}>\n      <div className={Style.chatLogWrapper}>\n        <div className={Style.chatLog}>\n          {type === \"work\" ? workChatLog : floodChatLog}\n        </div>\n        {greetings && <div className={Style.greetings}>Добро пожаловать в чат!</div>}\n      </div>\n      <div className={Style.formWrapper}>\n        <Input\n          target={chat.target}\n          auth={auth}\n          type={type}\n          sendWorkMessage={props.sendWorkMessage}\n          sendFloodMessage={props.sendFloodMessage}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;\n","const SEND_WORK = 'chatReducer/SEND_WORK';\r\nconst SEND_FLOOD = 'chatReducer/SEND_FLOOD';\r\nconst TARGET = 'chatReducer/TARGET';\r\n\r\nconst initialState = {\r\n    workChat: [\r\n        { nickname: \"Artem\", message: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Risus pretium quam vulputate dignissim suspendisse in est. Aliquet nec ullamcorper sit amet risus. Vel eros donec ac odio', color: '#A12312' },\r\n        { nickname: \"Nick\", message: 'empor orci dapibus. Nec tincidunt praesent semper feugiat nibh sed pulvinar. Massa id neque aliquam vestibulum morbi blandit cursus. In est ante in nibh', color: '#4CBB17' },\r\n        { nickname: \"Baron1212\", message: 'molestie. Dictumst quisque sagittis purus sit amet volutpat.', color: '#9EE788' },\r\n        { nickname: \"AWF\", message: 'met consectetu', color: '#F594B9' }\r\n    ],\r\n    floodChat: [\r\n        { nickname: \"FISH\", message: ' risus. Vel eros donec ac odio tempor orci dapibus. Nec tincidunt praes', color: '#A12312' },\r\n        { nickname: \"_vagner\", message: 'piscing elit', color: '#337AB7' },\r\n        { nickname: \"Dima\", message: 'cursus mattis', color: '#B2A5F3' },\r\n        { nickname: \"Artem\", message: 'ahaha', color: '#A12312' },\r\n        { nickname: \"Artem\", message: 'sed do', color: '#A12312' },\r\n        { nickname: \"AWF\", message: 'lol :D', color: '#F594B9' },\r\n        { nickname: \"AWF\", message: 'molestie. Dictumst :)', color: '#F594B9' },\r\n        { nickname: \"AWF\", message: 'qwerty123', color: '#F594B9' }\r\n    ],\r\n    target: null\r\n};\r\n\r\nconst chatReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_WORK:\r\n            if (action.msg !== '') {\r\n                const newMessage = {\r\n                    nickname: action.myNick, message: action.msg, color: action.myColor\r\n                }\r\n                return {\r\n                    ...state, workChat: [...state.workChat, newMessage]\r\n                }\r\n            }\r\n            return state;\r\n\r\n        case SEND_FLOOD:\r\n            if (action.msg !== '') {\r\n                const newMessage = {\r\n                    nickname: action.myNick, message: action.msg, color: action.myColor\r\n                }\r\n                return {\r\n                    ...state, floodChat: [...state.floodChat, newMessage]\r\n                }\r\n            }\r\n            return state;\r\n\r\n        case TARGET:\r\n            return {\r\n                ...state, target: `@${action.target}`\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setTarget = (target) => {\r\n    return {\r\n        type: TARGET, target\r\n    }\r\n}\r\n\r\nexport const sendWorkMessage = (msg, myNick, myColor) => {\r\n    return {\r\n        type: SEND_WORK, msg, myNick, myColor\r\n    }\r\n}\r\n\r\n\r\nexport const sendFloodMessage = (msg, myNick, myColor) => {\r\n    return {\r\n        type: SEND_FLOOD, msg, myNick, myColor\r\n    }\r\n}\r\n\r\nexport default chatReducer;","import React, { useState } from 'react';\r\nimport Style from './Auth.module.css'\r\n\r\nconst Auth = props => {\r\n\r\n    const [nickname, setNickname] = useState('unnamed')\r\n    const [color, setColor] = useState('#ffffff');\r\n\r\n    const { auth, setAuthorization } = props;\r\n\r\n    const submitHandler = (name, clr) => {\r\n        if (name === '') {\r\n            setNickname('unnamed');\r\n        } else {\r\n            setAuthorization({ name, clr });\r\n        }\r\n\r\n    }\r\n\r\n    const clrbox = auth.colors.map((i, indx) => {\r\n\r\n        if (color === i) {\r\n            return <div\r\n                style={{ backgroundColor: i, width: '40px', height: '40px' }}\r\n                className={Style.box}\r\n                key={indx}></div>\r\n        } else {\r\n            return <div\r\n                onClick={() => {\r\n                    setColor(i)\r\n                }}\r\n                style={{ backgroundColor: i }}\r\n                className={Style.box}\r\n                key={indx}>\r\n            </div>\r\n        }\r\n\r\n    })\r\n\r\n    return <div className={Style.authWrapper}>\r\n        <div className={Style.nicknameAuth}>\r\n            <span>Введите никнейм</span>\r\n            <input\r\n                onChange={(e) => setNickname(e.target.value)}\r\n                type=\"text\"\r\n                value={nickname}\r\n            />\r\n        </div>\r\n        <div className={Style.colorsetter}>\r\n            <span>Выбери цвет</span>\r\n            <div className={Style.colorbox}>\r\n                {clrbox}\r\n            </div>\r\n        </div>\r\n        <button\r\n            onClick={() => {\r\n                submitHandler(nickname, color)\r\n            }}\r\n            className={Style.btn}\r\n            type='button'\r\n        >log in</button>\r\n    </div>\r\n}\r\n\r\nexport default Auth;","import { authAPI } from \"../api/api\";\r\n\r\nconst AUTH = 'authReducer/AUTH';\r\nconst GET_AUTH = 'authReducer/GET_AUTH';\r\n\r\nconst initialState = {\r\n    isAuth: false,\r\n    myNick: null,\r\n    myColor: '#grey',\r\n    colors: [\r\n        '#4CBB17',\r\n        '#9EE788',\r\n        '#2D572C',\r\n        '#A12312',\r\n        '#E4766C',\r\n        '#73443F',\r\n        '#122FAA',\r\n        '#B2A5F3',\r\n        '#337AB7',\r\n        '#424242',\r\n        '#F594B9'\r\n    ]\r\n\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case AUTH:\r\n            return {\r\n                ...state,\r\n                myNick: action.data.name,\r\n                myColor: action.data.clr,\r\n                isAuth: true\r\n            };\r\n        case GET_AUTH:\r\n            return {\r\n                ...state, isAuth: action.boolean\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuth = data => {\r\n    return {\r\n        type: AUTH, data\r\n    }\r\n}\r\n\r\nexport const getAuth = boolean => {\r\n    return {\r\n        type: GET_AUTH, boolean\r\n    }\r\n}\r\n\r\nexport const setAuthorization = (data) => {\r\n    return async (dispatch) => {\r\n        let res = await authAPI.authorization(data)\r\n        console.log(res)\r\n        dispatch(setAuth(res))\r\n    }\r\n}\r\n\r\nexport const getAuthorization = () => {\r\n    return async (dispatch) => {\r\n        let res = await authAPI.getAuthorization();\r\n\r\n        if (res) {\r\n            dispatch(setAuth(JSON.parse(res.res)))\r\n        } else {\r\n            dispatch(getAuth(res));\r\n        }\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport UserList from './components/UserList';\nimport { connect } from 'react-redux';\nimport { getUsersThunk } from './redux/usersReducer';\nimport Chat from './components/Chat';\nimport { sendFloodMessage, sendWorkMessage, setTarget } from './redux/chatReducer';\nimport Auth from './components/Auth';\nimport { setAuthorization, getAuthorization } from './redux/authReducer';\n\nconst App = props => {\n\n  const [chatType, setchatType] = useState('work');\n  const {\n    getUsersThunk, auth, getAuthorization, setTarget\n  } = props;\n\n  useEffect(() => {\n    !auth.isAuth && getAuthorization()\n  }, [getAuthorization, auth.isAuth]);\n\n  useEffect(() => {\n    auth.isAuth && getUsersThunk();\n  }, [getUsersThunk, auth.isAuth, chatType]);\n\n  const active = {\n    backgroundColor: '#e7af69'\n  }\n\n  if (!auth.isAuth) {\n    return <Auth auth={auth} setAuthorization={props.setAuthorization} />\n  } else {\n    return (\n      <div className=\"App\">\n        <div className=\"header\">\n          <div className=\"logo\">\n            <h1>logo</h1>\n          </div>\n          <div className=\"categories\">\n            <span\n              style={(chatType === 'work') ? active : undefined}\n              onClick={() => {\n                setchatType('work')\n              }}\n            >\n              Работа\n            </span>\n            <span\n              style={(chatType === 'flood') ? active : undefined}\n              onClick={() => {\n                setchatType('flood')\n              }}\n            >\n              Флудилка\n              </span>\n          </div>\n        </div>\n        <div className=\"body\">\n          <UserList users={props.users} setTarget={setTarget} />\n          <Chat\n            chat={props.chat}\n            auth={auth}\n            type={chatType}\n            sendWorkMessage={props.sendWorkMessage}\n            sendFloodMessage={props.sendFloodMessage}\n          />\n        </div>\n      </div>\n    );\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n\n    users: state.usersReducer.users,\n    chat: state.chatReducer,\n    auth: state.authReducer\n  }\n}\n\nexport default connect(mapStateToProps, {\n  getUsersThunk,\n  sendWorkMessage,\n  sendFloodMessage,\n  setAuthorization,\n  getAuthorization,\n  setTarget\n})(App);\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport usersReducer from './usersReducer';\r\nimport chatReducer from './chatReducer';\r\nimport authReducer from './authReducer';\r\n\r\nconst reducers = combineReducers({\r\n    usersReducer,\r\n    chatReducer,\r\n    authReducer\r\n})\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nwindow.store = store;\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authWrapper\":\"Auth_authWrapper__3FrLz\",\"nicknameAuth\":\"Auth_nicknameAuth__2904P\",\"btn\":\"Auth_btn__28Kr8\",\"colorsetter\":\"Auth_colorsetter__sJgpa\",\"colorbox\":\"Auth_colorbox__3fQVH\",\"box\":\"Auth_box__U0nON\"};"],"sourceRoot":""}